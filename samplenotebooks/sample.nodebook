[{"kind":1,"language":"markdown","value":"# An XPath Test"},{"kind":2,"language":"xpath","value":"let $source := /* \nreturn \n    map:merge(\n        for $pfx in in-scope-prefixes($source),\n            $ns in namespace-uri-for-prefix($pfx, $source)\n        return \n            if ($pfx => string-length() ne 0) then\n                map:entry($pfx, $ns)\n            else\n                (: use prefix _d for default:)\n                map:entry(codepoints-to-string([95,100]), $ns)\n    )"},{"kind":2,"language":"xpath","value":"string-to-codepoints('_d')"},{"kind":2,"language":"xpath","value":"codepoints-to-string([95,100])"},{"kind":2,"language":"javascript","value":"let options = {\r\n    namespaceContext: {\r\n        'xsi': 'http://www.w3.org/2001/XMLSchema-instance',\r\n        'array': 'http://www.w3.org/2005/xpath-functions/array',\r\n        'map': 'http://www.w3.org/2005/xpath-functions/map',\r\n        'math': 'http://www.w3.org/2005/xpath-functions/math'\r\n    }\r\n}"},{"kind":2,"language":"xpath","value":"for $a in 1 to 20 return $a"},{"kind":2,"language":"xpath","value":"map {'key': 25, 'abc': 28, 'new': 29, 'more': 87}"},{"kind":2,"language":"xpath","value":"map {'key': 25, 'abc': 28, 'new': 29}"},{"kind":2,"language":"xpath","value":"(/*/*)[position() < 4]"},{"kind":2,"language":"xpath","value":"(/*/*/@*)[position() < 4]"},{"kind":2,"language":"javascript","value":"console.log('start of third cell');\nprint(`a: ${a}`);\nprint(`b: ${b}`);\nprint(`c: ${c}`);\nconsole.log('end of third cell');"}]